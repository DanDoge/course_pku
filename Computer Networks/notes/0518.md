### 拥塞控制

TCP辅助网络层控制拥塞
- 拥塞时多个数据源发送数据，需要协调多个发端，间接测量拥塞
- 理想的带宽分配：利用延迟测量负载
    - 最大最小公平性：不减少其他人的资源不能增加自己的资源，不会考
    - 理想的情况：满足不了就均分，能满足的就满足
    - 调整算法：加性增加乘性减少
- 检测拥塞：分组丢失，时延增加
- 发端维护两个窗口：流量窗口，拥塞窗口
- 拥塞控制策略
    - Tahoe：慢启动（指数增加，受到一个ack就增加一个报文长度）；拥塞避免（线性增加，每次加一点，一轮加一个）；超时（慢启动，阈值设置为当前的一半，现在的窗口变成1）
    - 出现报文丢失了（能收到ack，网络并不很拥塞，错序并不常见）就会收到重复的ack，tahoe就会慢启动，速率很慢
        - reno：快重传，3个重复ack就立即重传，窗口变成1/2，拥塞窗口减半；快恢复：拥塞窗口减半+重复的ack（重传的报文能发出去）
    - 丢了很多帧，以致收不到重复ack
        - new reno：收到ack就立即发送报文
    - vegas：平滑的拥塞避免
- 定时器管理：指数加权平均估计rtt
    - karn：不考虑重传的时延值；修正的：重传了就翻倍
- 卫星接入网：只在卫星上用特殊的tcp，网关上
