### 高速局域网 / 链路层交换机

802.3以太网
- 100BASE-TX，100速率的双绞线
- 信道利用率极值 1 / (1 + 4.44a), a = tao R / l
    - 速率提升，信道利用率下降了
    - 百兆以太网：减小tao（信号传播延迟时间） -> 减小网段最大长度，帧间隔减小（网络设备处理的时间）
    - 千兆以太网：允许全双工（不需要csma/cd）和半双工，采用载波延伸，争用时间变长，最短帧加长，帧突发：级联多个帧一起传，最长1500字节

局域网互联设备：集线器，交换机

- 集线器：总线竞争 -> 限制了容量
- 交换机：提升容量
    - 决定一个帧转发到哪一个端口
    - 端口没有mac地址
    - 不同的接口上不会碰撞，在对应的网段实施csma/cd
    - 主机不感知交换机存在
    - 维护一个交换表：mac地址，接口，时间标记
        - 找到了表项就转发
        - 没有就广播
        - 不从帧来到的端口发帧回去
    - 支持移动性
        - 不需要知道ap和哪一个设备关联
    - 生成树网桥
        - 有环就会无限循环
        - 网桥之间周期性发送配置消息给邻居
            - 选择最小标识的是根
            - 生成根到其他网桥的树
            - 每一个网桥选择到根最短的路径，就生成了树
- VLAN
    - 交换机建立人工的配置表
    - 只在必要的端口上广播
    - 帧里面也需要有VLAN标记，802.1Q，长度字段改成VLAN协议号，传统的网卡会认为长度异常不转发
        - 网桥可以感知VLAN，主机可以不感知