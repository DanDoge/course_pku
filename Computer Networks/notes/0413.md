### 路由算法

路由选择

- 根据目的地址选择路径
    - 数据包地址：每一个分组单独选路
    - 虚电路方式：建立连接时路由器选路
- 评估方式：跳数
    - 路径代价是各个链路代价之和
- 泛洪
    - 收到分组之后发给所有其他节点
    - 每一个分组有唯一的序号
    - 记录转发过的分组，不转发第二次
    - adhoc网络使用
- 集中式路由算法：每一个路由器有所有的网络拓扑和链路代价
    - 泛洪方式使得所有节点知道网络拓扑和链路代价
    - dijkstra算法得到最短路径和代价
- 分布式：每一个路由器只知道邻居和到邻居的代价
    - 距离矢量算法：每个结点周期向邻居发送自己的距离矢量，如果自己的代价变化了，通知邻居节点
    - 好消息传得快，坏消息传得慢
        - 将无穷大路由器的跳数设置为最大条数+1
        - 禁止向邻居返回一个从邻居获得的最佳路径



路由协议RIP

- 是一个距离矢量协议
- 到自己的距离0

链路状态路由LS

- OSPF
- 向所有路由器发送链路状态，定期发送
- dijkstra计算
- 五种分组类型：问候，链路状态描述/请求/更新
    - 可靠扩散：看图
- 数据包很短：只发自己和邻居的，可扩展性好，坏消息传的不慢



DV和LS

- DS只和邻居交换，但交换所有信息，LS和所有交换，但是只交换邻居信息
    - LS发送的NE量级，DV会有一个交换风暴
    - DV收敛时间受影响，LS是NN
    - LS更稳定，DV错误会扩散



自治系统

- 采用相似路由策略的在单一管理域下面的路由器集合
- 自治系统之间互联：BGP，交换路由信息

