### 链路层

可靠数据传输

- 无差错按顺序收发数据：发端可能发太快，来不及接受 -> 收端控制发端
- 停等协议：发送->确认 循环
    - 收到的帧错了? 丢弃差错报文，发端超时重传
    - 确认帧丢掉了？收端收到两个一样的东西，帧加一个1bit的序号
    - 确认帧迟到了？确认帧也加一个序号
    - 信道利用率：t_f / (t_f + RTT + t_a)，RTT往返时间，t_f / (t_f + 2t_p) = 1 / (1 + 2$\alpha$)
    - 延迟带宽积：链路速率乘延迟时间
- 连续ARQ
    - 利用率 <= w / (1 + 2$\alpha$)
    - 发送方维护发送窗口，每帧序号多个比特，每一个帧带一个定时器，等待确认
        - 收到确认帧之后窗口向前滑动，或者
    - 接收方只接受序号连续的帧，返回ack(i + 1)，期望收到下一个帧，相当于窗口为1
        - 收到序号不连续的帧也会重传ack帧
    - 发送窗口最大2^n - 1
- 滑动窗口
    - 收端也有一个接收窗口，可以接受序号不连续的帧，接收窗口最大2^n / 2：反证法，假设确认帧全部丢失
    - 确认：累计确认（确认之前所有的帧），捎带确认（数据帧里面确认）

HDLC

- 标志，地址，控制，信息，FCS（检验地址、控制和信息），标志
    - 标志间透明传输
- 信息帧/监控帧/无编号帧

PPP

- 封装和HDLC相像
- 无序号和确认
- 透明传输：字节填充